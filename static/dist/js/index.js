webpackJsonp([2],[function(o,t,n){"use strict";var i=n(1),a=n(3).Promise,l=n(7),e='	  <h4>日志</h4>	  <form action="/" class="form-horizontal">	    <div class="form-group">	      <label class="col-sm-4 control-label">上传图片：</label>	      <div class="col-sm-8">	        <input type="file" name="upload-img" class="form-control" accept="image/*">	      </div>	    </div>	    <div class="form-group">	      <label class="col-sm-4 control-label">今日完成：</label>	      <div class="col-sm-8">	        <textarea name="text" class="form-control"></textarea>	      </div>	    </div>	    <div class="form-group col-sm-12">	      <a href="javascript:;" class="btn btn-primary btn-wrap btn-submit" data-role="modal::close">确定</a>	    </div>	  </form>';!function(){var o={page:0,get:function(o){return l.fetch("/list/dream/"+o,{},{show:function(){i(".loading").prop("visibility","visible")},hide:function(){i(".loading").prop("visibility","hidden")}}).then(function(o){return a.resolve(o.html)})}},t={showAddModal:function(){var o=new l.ui.Modal({id:"addModal",css:"modal-add",content:e});o.show()}},n={init:function(){this.evt(),o.get(0)},loadPage:function(){o.page+=1,o.get(o.page).then(function(o){i("#dreams").append(o)})},evt:function(){i(window).scroll(function(){var o=document.documentElement.clientHeight,t=document.body.scrollHeight,i=document.body.scrollTop;i+o>=t-5&&n.loadPage()}),i("#add").on("click",function(){t.showAddModal()})}};i(function(){l.init().then(function(){n.init()})})}()}]);